{"ast":null,"code":"import mock from \"../mock\"; // Contact\n\nlet data = {\n  contacts: [{\n    uid: 1,\n    displayName: \"XRAM-DEMO\",\n    about: \"Chat for XRAM related questions\",\n    photoURL: require(\"../../assets/img/portrait/small/avatar-s-1.jpg\"),\n    status: \"offline\"\n  }, {\n    uid: 2,\n    displayName: \"Adalberto Granzin\",\n    about: \"Toffee caramels jelly-o tart gummi bears cake I love ice cream lollipop. Sweet liquorice croissant candy danish dessert icing. Cake macaroon gingerbread toffee sweet.\",\n    photoURL: require(\"../../assets/img/portrait/small/avatar-s-2.jpg\"),\n    status: \"do not disturb\"\n  }, {\n    uid: 3,\n    displayName: \"Joaquina Weisenborn\",\n    about: \"Soufflé soufflé caramels sweet roll. Jelly lollipop sesame snaps bear claw jelly beans sugar plum sugar plum.\",\n    photoURL: require(\"../../assets/img/portrait/small/avatar-s-3.jpg\"),\n    status: \"do not disturb\"\n  }, {\n    uid: 4,\n    displayName: \"Verla Morgano\",\n    about: \"Chupa chups candy canes chocolate bar marshmallow liquorice muffin. Lemon drops oat cake tart liquorice tart cookie. Jelly-o cookie tootsie roll halvah.\",\n    photoURL: require(\"../../assets/img/portrait/small/avatar-s-4.jpg\"),\n    status: \"online\"\n  }, {\n    uid: 5,\n    displayName: \"Margot Henschke\",\n    about: \"Cake pie jelly jelly beans. Marzipan lemon drops halvah cake. Pudding cookie lemon drops icing\",\n    photoURL: require(\"../../assets/img/portrait/small/avatar-s-5.jpg\"),\n    status: \"do not disturb\"\n  }, {\n    uid: 6,\n    displayName: \"Sal Piggee\",\n    about: \"Toffee caramels jelly-o tart gummi bears cake I love ice cream lollipop. Sweet liquorice croissant candy danish dessert icing. Cake macaroon gingerbread toffee sweet.\",\n    photoURL: require(\"../../assets/img/portrait/small/avatar-s-6.jpg\"),\n    status: \"online\"\n  }, {\n    uid: 7,\n    displayName: \"Miguel Guelff\",\n    about: \"Biscuit powder oat cake donut brownie ice cream I love soufflé. I love tootsie roll I love powder tootsie roll.\",\n    photoURL: require(\"../../assets/img/portrait/small/avatar-s-7.jpg\"),\n    status: \"online\"\n  }, {\n    uid: 8,\n    displayName: \"Mauro Elenbaas\",\n    about: \"Bear claw ice cream lollipop gingerbread carrot cake. Brownie gummi bears chocolate muffin croissant jelly I love marzipan wafer.\",\n    photoURL: require(\"../../assets/img/portrait/small/avatar-s-8.jpg\"),\n    status: \"away\"\n  }, {\n    uid: 9,\n    displayName: \"Bridgett Omohundro\",\n    about: \"Gummies gummi bears I love candy icing apple pie I love marzipan bear claw. I love tart biscuit I love candy canes pudding chupa chups liquorice croissant.\",\n    photoURL: require(\"../../assets/img/portrait/small/avatar-s-9.jpg\"),\n    status: \"offline\"\n  }, {\n    uid: 10,\n    displayName: \"Zenia Jacobs\",\n    about: \"Cake pie jelly jelly beans. Marzipan lemon drops halvah cake. Pudding cookie lemon drops icing\",\n    photoURL: require(\"../../assets/img/portrait/small/avatar-s-10.jpg\"),\n    status: \"away\"\n  }],\n  chats: {}\n}; // GET : CHATS AND CONTACTS\n\nmock.onGet(\"/api/app/chat/chats\").reply(() => {\n  return [200, data];\n}); // GET : CHAT LIST\n\nmock.onGet(\"/api/app/chat/chat-contacts\").reply(request => {\n  const chatContactsArray = data.contacts.filter(contact => {\n    if (data.chats[contact.uid]) return data.chats[contact.uid];else return null;\n  });\n  return [200, chatContactsArray];\n}); // POST : SEND MESSAGE\n\nmock.onPost(\"api/app/chat/send-message\").reply(request => {\n  let reqdata = JSON.parse(request.data);\n  const {\n    contactId,\n    message,\n    isPinned\n  } = reqdata;\n\n  if (data.chats[contactId]) {\n    data.chats[contactId].msg.push(message);\n  } else {\n    let newMsg = {\n      [contactId]: {\n        isPinned: isPinned,\n        msg: [message]\n      }\n    };\n    Object.assign(data.chats, newMsg);\n  }\n\n  return [200];\n});\nmock.onPost(\"/api/apps/chat/mark-all-seen/\").reply(request => {\n  let contactId = JSON.parse(request.data).contactId; // Get chat data\n\n  let marked = data.chats[contactId];\n  marked !== undefined && marked.msg.forEach(msg => {\n    msg.isSeen = true;\n  });\n  return [200];\n}); // POST : TOGGLE PINNED\n\nmock.onPost(\"/api/apps/chat/set-pinned/\").reply(request => {\n  let {\n    contactId,\n    value\n  } = JSON.parse(request.data);\n  data.chats[contactId].isPinned = data.chats[contactId].isPinned = value;\n  return [200];\n});","map":{"version":3,"sources":["/home/wmk/XRAM_Demo/frontend/src/@fake-db/apps/chat.js"],"names":["mock","data","contacts","uid","displayName","about","photoURL","require","status","chats","onGet","reply","request","chatContactsArray","filter","contact","onPost","reqdata","JSON","parse","contactId","message","isPinned","msg","push","newMsg","Object","assign","marked","undefined","forEach","isSeen","value"],"mappings":"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","sourcesContent":["import mock from \"../mock\"\n\n// Contact\nlet data = {\n  contacts: [\n    {\n      uid: 1,\n      displayName: \"XRAM-DEMO\",\n      about:\n        \"Chat for XRAM related questions\",\n      photoURL: require(\"../../assets/img/portrait/small/avatar-s-1.jpg\"),\n      status: \"offline\"\n    },\n    {\n      uid: 2,\n      displayName: \"Adalberto Granzin\",\n      about:\n        \"Toffee caramels jelly-o tart gummi bears cake I love ice cream lollipop. Sweet liquorice croissant candy danish dessert icing. Cake macaroon gingerbread toffee sweet.\",\n      photoURL: require(\"../../assets/img/portrait/small/avatar-s-2.jpg\"),\n      status: \"do not disturb\"\n    },\n    {\n      uid: 3,\n      displayName: \"Joaquina Weisenborn\",\n      about:\n        \"Soufflé soufflé caramels sweet roll. Jelly lollipop sesame snaps bear claw jelly beans sugar plum sugar plum.\",\n      photoURL: require(\"../../assets/img/portrait/small/avatar-s-3.jpg\"),\n      status: \"do not disturb\"\n    },\n    {\n      uid: 4,\n      displayName: \"Verla Morgano\",\n      about:\n        \"Chupa chups candy canes chocolate bar marshmallow liquorice muffin. Lemon drops oat cake tart liquorice tart cookie. Jelly-o cookie tootsie roll halvah.\",\n      photoURL: require(\"../../assets/img/portrait/small/avatar-s-4.jpg\"),\n      status: \"online\"\n    },\n    {\n      uid: 5,\n      displayName: \"Margot Henschke\",\n      about:\n        \"Cake pie jelly jelly beans. Marzipan lemon drops halvah cake. Pudding cookie lemon drops icing\",\n      photoURL: require(\"../../assets/img/portrait/small/avatar-s-5.jpg\"),\n      status: \"do not disturb\"\n    },\n    {\n      uid: 6,\n      displayName: \"Sal Piggee\",\n      about:\n        \"Toffee caramels jelly-o tart gummi bears cake I love ice cream lollipop. Sweet liquorice croissant candy danish dessert icing. Cake macaroon gingerbread toffee sweet.\",\n      photoURL: require(\"../../assets/img/portrait/small/avatar-s-6.jpg\"),\n      status: \"online\"\n    },\n    {\n      uid: 7,\n      displayName: \"Miguel Guelff\",\n      about:\n        \"Biscuit powder oat cake donut brownie ice cream I love soufflé. I love tootsie roll I love powder tootsie roll.\",\n      photoURL: require(\"../../assets/img/portrait/small/avatar-s-7.jpg\"),\n      status: \"online\"\n    },\n    {\n      uid: 8,\n      displayName: \"Mauro Elenbaas\",\n      about:\n        \"Bear claw ice cream lollipop gingerbread carrot cake. Brownie gummi bears chocolate muffin croissant jelly I love marzipan wafer.\",\n      photoURL: require(\"../../assets/img/portrait/small/avatar-s-8.jpg\"),\n      status: \"away\"\n    },\n    {\n      uid: 9,\n      displayName: \"Bridgett Omohundro\",\n      about:\n        \"Gummies gummi bears I love candy icing apple pie I love marzipan bear claw. I love tart biscuit I love candy canes pudding chupa chups liquorice croissant.\",\n      photoURL: require(\"../../assets/img/portrait/small/avatar-s-9.jpg\"),\n      status: \"offline\"\n    },\n    {\n      uid: 10,\n      displayName: \"Zenia Jacobs\",\n      about:\n        \"Cake pie jelly jelly beans. Marzipan lemon drops halvah cake. Pudding cookie lemon drops icing\",\n      photoURL: require(\"../../assets/img/portrait/small/avatar-s-10.jpg\"),\n      status: \"away\"\n    }\n  ],\n  chats: {\n    \n  }\n}\n\n// GET : CHATS AND CONTACTS\nmock.onGet(\"/api/app/chat/chats\").reply(() => {\n  return [200, data]\n})\n\n// GET : CHAT LIST\nmock.onGet(\"/api/app/chat/chat-contacts\").reply(request => {\n  const chatContactsArray = data.contacts.filter(contact => {\n    if (data.chats[contact.uid]) return data.chats[contact.uid]\n    else return null\n  })\n\n  return [200, chatContactsArray]\n})\n\n// POST : SEND MESSAGE\nmock.onPost(\"api/app/chat/send-message\").reply(request => {\n  let reqdata = JSON.parse(request.data)\n  const { contactId, message, isPinned } = reqdata\n  if (data.chats[contactId]) {\n    data.chats[contactId].msg.push(message)\n  } else {\n    let newMsg = {\n      [contactId]: {\n        isPinned: isPinned,\n        msg: [message]\n      }\n    }\n    Object.assign(data.chats, newMsg)\n  }\n  return [200]\n})\nmock.onPost(\"/api/apps/chat/mark-all-seen/\").reply(request => {\n  let contactId = JSON.parse(request.data).contactId\n\n  // Get chat data\n  let marked = data.chats[contactId]\n\n  marked !== undefined &&\n    marked.msg.forEach(msg => {\n      msg.isSeen = true\n    })\n\n  return [200]\n})\n// POST : TOGGLE PINNED\nmock.onPost(\"/api/apps/chat/set-pinned/\").reply(request => {\n  let { contactId, value } = JSON.parse(request.data)\n  data.chats[contactId].isPinned = data.chats[contactId].isPinned = value\n  return [200]\n})\n"]},"metadata":{},"sourceType":"module"}